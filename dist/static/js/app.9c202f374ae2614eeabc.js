webpackJsonp([1,2],{32:function(t,n){},33:function(t,n,o){o(71);var e=o(72)(o(36),o(73),null,null);t.exports=e.exports},36:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(37),a=o.n(e);n.default={name:"app",data:function t(){var t={records:[],token:"blank"};return t},computed:{species:function(){return this.records.reduce(function(t,n){return t.some(function(t){return t.taxonId===n.taxonId})?t.map(function(t){return t.taxonId!==n.taxonId?t:(t.totalCountInt+=n.totalCountInt,t)}):t.push({commonNme:n.commonNme,scientificDisplayNme:n.scientificDisplayNme,taxonId:n.taxonId,totalCountInt:n.totalCountInt}),console.log(t),t},[])}},methods:{getToken:function(){var t=this;this.$http.get("https://vbapi.herokuapp.com/auth/guest").then(function(n){t.token=n.body.jwt})},getLocation:function(){function t(t){console.log(t)}return new a.a(function(n,o){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){var o=t.coords.accuracy,e=t.coords.latitude,a=t.coords.longitude;console.log("gps fixed at: "+t.coords+" | "+t.coords.accuracy),n({accu:o,lat:e,long:a})},t,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):o("no geolocation feature present on device")})},getRecordsByLoc:function(){var t=this,n=this.token;this.getLocation().then(function(o){var e={lat:o.lat,long:o.long,rad:250,token:n};t.$http.get("https://vbapi.herokuapp.com/search/point",{params:e}).then(function(n){console.log(n),t.records=n.body.species,console.log(t.records)})})}},mounted:function(){this.getToken()}}},71:function(t,n){},73:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"container",attrs:{id:"app"}},[o("md-toolbar",[o("h1",{staticClass:"md-title"},[t._v("Around me")])]),t._v(" "),o("md-layout",{attrs:{"md-align":"center","md-gutter":"16"}}),t._v(" "),o("md-list",t._l(t.species,function(n){return o("md-list-item",{staticClass:"md-list-item",attrs:{specie:n}},[o("md-avatar",[o("img",{attrs:{src:"https://placeimg.com/40/40/animals/"+n.taxonId,alt:"People"}})]),t._v(" "),o("div",{staticClass:"md-list-text-container"},[o("span",[t._v(t._s(n.commonNme))]),t._v(" "),o("span",[t._v(t._s(n.scientificDisplayNme))]),t._v(" "),o("p",[t._v("Total count : "+t._s(n.totalCountInt))])]),t._v(" "),o("md-button",{staticClass:"md-icon-button md-list-action"},[o("md-icon",{staticClass:"md-primary"},[t._v("info")])],1),t._v(" "),o("md-divider",{staticClass:"md-inset"})],1)})),t._v(" "),o("md-button",{staticClass:"md-button md-fab md-fab-bottom-right",staticStyle:{position:"fixed"},nativeOn:{click:function(n){t.getRecordsByLoc()}}},[o("md-icon",[t._v("my_location")])],1)],1)},staticRenderFns:[]}},76:function(t,n){},77:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(19),a=o.n(e),i=o(34),c=o.n(i),s=o(32),r=(o.n(s),o(35)),u=o.n(r),l=o(33),d=o.n(l);a.a.use(c.a),a.a.use(u.a),new a.a({el:"#app",template:"<App/>",components:{App:d.a}})}},[77]);
//# sourceMappingURL=app.9c202f374ae2614eeabc.js.map